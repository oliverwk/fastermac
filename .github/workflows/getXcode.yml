name: Get xcode
on: 
  workflow_dispatch:
defaults:
  run:
    shell: bash

jobs:
  build:
    runs-on: macos-latest
    steps:
    - uses: actions/checkout@v2
    - name: Get xcode
      run: curl 'https://download.developer.apple.com/Developer_Tools/Xcode_12.5/Xcode_12.5.xip' -o xcode.xip --cookie 's_fid=0864078A5D3D376E-1024A36249C1DF4A; s_sq=awdappledeveloper%3D%2526pid%253Dmore%252520software%252520downloads%2526pidt%253D1%2526oid%253Dfunctiononclick%252528event%252529%25257Bw2ui%25255B%252527downloads%252527%25255D.toggle%252528%252527463%252527%25252Cevent%252529%25253Bif%252528event.stopPropagation%252529event.stopProp%2526oidt%253D2%2526ot%253DDIV; ADCDownloadAuth=IeQ%2F26NoBlQyq3HlVoech5QK6aQMckF5ztqJ0qqVSGLn9bmoUJMQouDPEB0UwJQtrL9%2FzQ7n%2BuBI%0D%0AwyLmX6cUZPw8V%2FT34vg6C6l908QZVGCkjoa15Giq764kSHVodKVVj1b0qF%2BiVcNT0BI3aLCyJk3v%0D%0Ay7RarXci4FYbrMR274XvoM3m%0D%0A; DSESSIONID=181en8n33l1f4cc78i7lvd4tpj3at13le39l4q5cp2gun6sf96tp; s_cc=true; s_pathLength=developer%3D4%2C; s_vi=[CS]v1|30510A1FE9E4A95C-60000368C894627B[CE]; s_vnum_n2_us=19|1; acn01=fNKzA2uaqR5YPaRl+cPoDB/lJz2qP+ozAAja8LJ9vjU=; dslang=NL-NL; myacinfo=DAWTKNV27e7f704316419fb6b18b9b2d289bf987c9073cc4dee087f46b84d858055a3358377078545fc25f8fbf856da36bd923ca336b6d5956506fccdbc4964a3ab3444acd1908d4745acdf3b2caf6d127607d8adc3693982cbb7b200171a5ad26932acfcd8fad99abe43a742cac6e62d516e1dac48c9867e19a17f84bca23fa4d95f404e058ebcf4ecc518659e602d96537e64c4af3d385fef620a0526e1e491ce75a768ac77636bd9c26d6edd997ac3565a7b7aaac7d0fa9cd7d89b72dc23b5b5b083abc838db5a6df7b3d2de8d8e1ebec9efeb792233d23914172842e2323b2648ae5005c448cbbd59f5dc510fb492fab758cf5dea654ab79a9a3422cf5399c415fbdaf50a802b3ab01c250484271b354331b31626437363065363737383866356463633863633635303761616239306365366661616165366435MVRYV2; site=NLD; geo=NL; s_ppv=acs%253A%253Aadf%253A%253Aiphone%253A%253Ausing_iphone%253A%253Athread-251803663%2520%2528en-us%2529%2C98%2C98%2C3740%2C1440%2C820%2C1440%2C900%2C1%2CP; s_orientation=%5B%5BB%5D%5D; s_ppvl=acs%253A%253Aadf%253A%253Aiphone%253A%253Ausing_iphone%253A%253Athread-251803663%2520%2528en-us%2529%2C98%2C24%2C3740%2C1440%2C820%2C1440%2C900%2C1%2CP; s_orientationHeight=3740; POD=nl~nl; accs=o; XID=f74833cd1bc9a385d31ab5db70997a1f; dssf=1'
    - name: Unxip xcode
      run: xip -x xcode.xip
    - name: tar 
      run: tar -cv Xcode.app | gzip > xcode.tar.gz
    - name: list files
      run: ls -lah
    - name: get sha-256
      run: shasum -a 256 xcode.tar.gz
    - uses: actions/upload-artifact@v2
      with:
       name: xcodeApp
       path: /Users/runner/work/fastermac/fastermac/xcode.tar.gz
